# Template Migration Checklist

## Phase 1: Preparation ✓ (COMPLETED)

- [x] Created `lib/template-themes.ts` with theme configuration
- [x] Created `components/theme-selection-modal.tsx` with UI components
- [x] Created sample folder structure for portfolio and saas-landing
- [x] Created documentation

## Phase 2: Template Folder Migration

### Templates to Migrate

For each template below, follow these steps:

#### 1. Portfolio Template
- [ ] Create folder: `components/templates/normal/portfolio/`
- [ ] Move `portfolio-template.tsx` → `portfolio/default.tsx`
- [ ] Create `portfolio/index.ts` with theme config
- [ ] Create `portfolio/themes/` folder for future themes
- [ ] Update import in `app/editor/page.tsx`

#### 2. SaaS Landing Template
- [ ] Create folder: `components/templates/normal/saas-landing/`
- [ ] Move `saas-landing-template.tsx` → `saas-landing/default.tsx`
- [ ] Create `saas-landing/index.ts`
- [ ] Create `saas-landing/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 3. Project Overview Template
- [ ] Create folder: `components/templates/normal/project-overview/`
- [ ] Move `project-overview-template.tsx` → `project-overview/default.tsx`
- [ ] Create `project-overview/index.ts`
- [ ] Create `project-overview/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 4. Personal Profile Template
- [ ] Create folder: `components/templates/normal/personal-profile/`
- [ ] Move `personal-profile-template.tsx` → `personal-profile/default.tsx`
- [ ] Create `personal-profile/index.ts`
- [ ] Create `personal-profile/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 5. Event Landing Template
- [ ] Create folder: `components/templates/normal/event-landing/`
- [ ] Move `event-landing-template.tsx` → `event-landing/default.tsx`
- [ ] Create `event-landing/index.ts`
- [ ] Create `event-landing/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 6. iPhone Product Template
- [ ] Create folder: `components/templates/normal/iphone-product/`
- [ ] Move `iphone-product-template.tsx` → `iphone-product/default.tsx`
- [ ] Create `iphone-product/index.ts`
- [ ] Create `iphone-product/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 7. Lead Generation Template
- [ ] Create folder: `components/templates/normal/lead-generation/`
- [ ] Move `lead-generation-template.tsx` → `lead-generation/default.tsx`
- [ ] Create `lead-generation/index.ts`
- [ ] Create `lead-generation/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 8. Click Through Template
- [ ] Create folder: `components/templates/normal/click-through/`
- [ ] Move `click-through-template.tsx` → `click-through/default.tsx`
- [ ] Create `click-through/index.ts`
- [ ] Create `click-through/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 9. Sales Landing Template
- [ ] Create folder: `components/templates/normal/sales-landing/`
- [ ] Move `sales-landing-template.tsx` → `sales-landing/default.tsx`
- [ ] Create `sales-landing/index.ts`
- [ ] Create `sales-landing/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 10. Cat Food Template
- [ ] Create folder: `components/templates/normal/cat-food/`
- [ ] Move `cat-food-template.tsx` → `cat-food/default.tsx`
- [ ] Create `cat-food/index.ts`
- [ ] Create `cat-food/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 11. Indoor Skydiving Template
- [ ] Create folder: `components/templates/normal/indoor-skydiving/`
- [ ] Move `indoor-skydiving-template.tsx` → `indoor-skydiving/default.tsx`
- [ ] Create `indoor-skydiving/index.ts`
- [ ] Create `indoor-skydiving/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 12. Keto Bars Template
- [ ] Create folder: `components/templates/normal/keto-bars/`
- [ ] Move `keto-bars-template.tsx` → `keto-bars/default.tsx`
- [ ] Create `keto-bars/index.ts`
- [ ] Create `keto-bars/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 13. Campaign Monitor Template
- [ ] Create folder: `components/templates/normal/campaign-monitor/`
- [ ] Move `campaign-monitor-template.tsx` → `campaign-monitor/default.tsx`
- [ ] Create `campaign-monitor/index.ts`
- [ ] Create `campaign-monitor/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 14. Blow LTD Template
- [ ] Create folder: `components/templates/normal/blow-ltd/`
- [ ] Move `blow-ltd-template.tsx` → `blow-ltd/default.tsx`
- [ ] Create `blow-ltd/index.ts`
- [ ] Create `blow-ltd/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 15. Be Patients Template
- [ ] Create folder: `components/templates/normal/be-patients/`
- [ ] Move `be-patients-template.tsx` → `be-patients/default.tsx`
- [ ] Create `be-patients/index.ts`
- [ ] Create `be-patients/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 16. Outlier Apparel Template
- [ ] Create folder: `components/templates/normal/outlier-apparel/`
- [ ] Move `outlier-apparel-template.tsx` → `outlier-apparel/default.tsx`
- [ ] Create `outlier-apparel/index.ts`
- [ ] Create `outlier-apparel/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 17. Branch Furniture Template
- [ ] Create folder: `components/templates/normal/branch-furniture/`
- [ ] Move `branch-furniture-template.tsx` → `branch-furniture/default.tsx`
- [ ] Create `branch-furniture/index.ts`
- [ ] Create `branch-furniture/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 18. Amazon Prime Template
- [ ] Create folder: `components/templates/normal/amazon-prime/`
- [ ] Move `amazon-prime-template.tsx` → `amazon-prime/default.tsx`
- [ ] Create `amazon-prime/index.ts`
- [ ] Create `amazon-prime/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 19. Goby Toothbrush Template
- [ ] Create folder: `components/templates/normal/goby-toothbrush/`
- [ ] Move `goby-toothbrush-template.tsx` → `goby-toothbrush/default.tsx`
- [ ] Create `goby-toothbrush/index.ts`
- [ ] Create `goby-toothbrush/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 20. Zola Wedding Template
- [ ] Create folder: `components/templates/normal/zola-wedding/`
- [ ] Move `zola-wedding-template.tsx` → `zola-wedding/default.tsx`
- [ ] Create `zola-wedding/index.ts`
- [ ] Create `zola-wedding/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 21. Banana Milk Template
- [ ] Create folder: `components/templates/normal/banana-milk/`
- [ ] Move `banana-milk-template.tsx` → `banana-milk/default.tsx`
- [ ] Create `banana-milk/index.ts`
- [ ] Create `banana-milk/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 22. Science Landing Template
- [ ] Create folder: `components/templates/normal/science-landing/`
- [ ] Move `science-landing-template.tsx` → `science-landing/default.tsx`
- [ ] Create `science-landing/index.ts`
- [ ] Create `science-landing/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

#### 23. Empty Template
- [ ] Create folder: `components/templates/normal/empty/`
- [ ] Move `empty-template.tsx` → `empty/default.tsx`
- [ ] Create `empty/index.ts`
- [ ] Create `empty/themes/` folder
- [ ] Update import in `app/editor/page.tsx`

## Phase 3: Editor Integration

### Update `app/editor/page.tsx`

- [ ] Import `ThemeSelectionModal` and `ThemeHoverPopup`
- [ ] Import `getTemplateThemes` and `hasMultipleThemes`
- [ ] Add state for `themeModalOpen` and `selectedTemplateForTheme`
- [ ] Update `onSelect` function signature to accept `themeId`
- [ ] Add `ThemeHoverPopup` to template cards with multiple themes
- [ ] Add `ThemeSelectionModal` component
- [ ] Update template initialization to use selected theme
- [ ] Update all template imports to use new folder structure

### Specific Code Changes

1. **Add imports (after line 55):**
```typescript
import { ThemeSelectionModal, ThemeHoverPopup } from "@/components/theme-selection-modal"
import { getTemplateThemes, hasMultipleThemes } from "@/lib/template-themes"
```

2. **Add state (inside EditorPage component):**
```typescript
const [themeModalOpen, setThemeModalOpen] = useState(false)
const [selectedTemplateForTheme, setSelectedTemplateForTheme] = useState<string | null>(null)
const [selectedTheme, setSelectedTheme] = useState<string>("default")
```

3. **Update TemplateSelectionPanel props (line 165):**
```typescript
onSelect: (id: TemplateId, themeId?: string) => void
```

4. **Add ThemeHoverPopup to cards (inside map at line 521):**
```typescript
{hasMultipleThemes(c.id) && (
  <ThemeHoverPopup
    templateConfig={getTemplateThemes(c.id)!}
    onViewAll={() => {
      setSelectedTemplateForTheme(c.id)
      setThemeModalOpen(true)
    }}
    onSelectTheme={(themeId) => {
      onSelect(c.id, themeId)
    }}
  />
)}
```

5. **Add ThemeSelectionModal (before closing div of TemplateSelectionPanel):**
```typescript
<ThemeSelectionModal
  open={themeModalOpen}
  onClose={() => {
    setThemeModalOpen(false)
    setSelectedTemplateForTheme(null)
  }}
  templateConfig={
    selectedTemplateForTheme 
      ? getTemplateThemes(selectedTemplateForTheme) 
      : null
  }
  onSelectTheme={(templateId, themeId) => {
    setThemeModalOpen(false)
    onSelect(templateId, themeId)
  }}
/>
```

## Phase 4: Theme Metadata

### Update `lib/template-themes.ts`

Add metadata for all normal templates (currently only portfolio and saas-landing are added):

- [ ] project-overview
- [ ] personal-profile
- [ ] event-landing
- [ ] iphone-product
- [ ] lead-generation
- [ ] click-through
- [ ] sales-landing
- [ ] cat-food
- [ ] indoor-skydiving
- [ ] keto-bars
- [ ] campaign-monitor
- [ ] blow-ltd
- [ ] be-patients
- [ ] outlier-apparel
- [ ] branch-furniture
- [ ] amazon-prime
- [ ] goby-toothbrush
- [ ] zola-wedding
- [ ] banana-milk
- [ ] science-landing
- [ ] empty

## Phase 5: Testing

- [ ] Run `npm run dev` to start development server
- [ ] Navigate to `/editor`
- [ ] Verify all templates load correctly
- [ ] Test hover on Pro templates (should show theme popup)
- [ ] Click "View All Themes" and verify modal opens
- [ ] Select different themes and verify they load
- [ ] Test normal templates (should work as before)
- [ ] Check console for any errors
- [ ] Test on different screen sizes

## Phase 6: Cleanup

- [ ] Delete old template files from `components/templates/normal/` (only after verifying new structure works)
- [ ] Update `components/templates/normal/index.ts` if it exists
- [ ] Run `npm run build` to check for build errors
- [ ] Update any other files that import templates

## Notes

- **DO NOT delete old files until new structure is tested and working**
- Keep backups of original files
- Test each template individually after migration
- Update imports incrementally to avoid breaking the entire app
- Pro templates already follow the correct structure, no migration needed

## Quick Reference: index.ts Template

```typescript
import { TemplateName } from "./default"

export { TemplateName }

export const TEMPLATE_THEMES = {
  "default": {
    id: "default",
    name: "Default",
    description: "Template description",
    component: TemplateName,
    previewImage: "/template-preview.png",
    colors: {
      primary: "#000000",
      secondary: "#ffffff",
      accent: "#3b82f6"
    }
  }
} as const

export type TemplateThemeId = keyof typeof TEMPLATE_THEMES
```
